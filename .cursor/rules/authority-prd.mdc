---
description: 
globs: 
alwaysApply: false
---
# 权限管理

- 通过 tab 切换角色管理列表
- 默认 tab 为用户管理列表

## 角色管理列表

用于管理应用所涉及的角色信息

每个角色拥有对应的页面权限和按钮权限

筛选区域:

- 角色名称

操作区域:

- 新增

新增/编辑表单:

- 角色名称

字段列:

- 角色名称
- 操作
  - 编辑
  - 绑定权限
  - 删除

点击操作列的绑定权限弹出右侧抽屉显示树形列表, 勾选列表项表示绑定, 最终点击底部保存按钮确认绑定

可设置的页面权限由 [index.ts](mdc:src/router/index.ts) 动态路由数组的元素决定

动态路由数组的每个路由对象拥有一个 meta. 字段表示该路由对象的权限标识

动态路由数组的每个路由对象拥有一个 meta.buttons 字段表示该路由对象对应页面拥有的按钮权限, 同样有一个 identity 字段表示按钮的权限标识

路由对象的完整数据结构如下所示:

```json
{
  path: "/task",
  name: "task",
  component: PageLayout,
  meta: { title: "任务管理", root: true },
  children: [
    {
      path: "list",
      name: "task-list",
      component: () => import("../../views/task/TaskList.vue"),
      meta: {
        title: "任务管理",
        buttons: [
          {
            name: 'task:create',
            meta: {
              title: "添加",
            }
          },
        ],
      },
    },
  ],
}
```

## 用户管理列表

用于管理用户账号、密码、和角色信息

筛选区域:

- 用户名称
- 账号

操作区域:

- 新增

新增/编辑表单:

- 用户名称
- 账号
- 密码
- 角色

字段列:

- 用户名称
- 账号
- 角色
- 操作
  - 编辑
  - 删除
  - 绑定角色